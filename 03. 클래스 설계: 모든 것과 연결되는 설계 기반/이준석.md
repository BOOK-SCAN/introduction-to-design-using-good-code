# 📌 03. 클래스 설계 : 모든 것과 연결되는 설계 기반

### 📌 클래스 단위로 잘 동작하도록 설계하기

- 잘 만들어진 클래스의 구성요소
    - **인스턴스 변수**
    - 인스턴스 변수에 잘못된 값이 할당되지 않게 막고, 정상적으로 조작하는 **메서드**
- 클래스는 자신을 보호할 수 있는 로직을 가지고 있어야함

### 📌 제대로 된 클래스 설계 기법

- 생성자로 확실하게 정상적인 값 설정하기
    - 인스턴스 변수를 모두 초기화하는 데 필요한 매개변수를 받는 생성자를 만든다.
    - 잘못된 값이 유입되지 못하게 생성자 내부에 유효성 검사를 정의한다. (=가드)
- 계산 로직도 데이터를 가진 쪽에서 구현하기
    - 응집도를 높이기 위해 계산 로직도 구현
- 불변변수로 만들어서 예상하지 못한 동작 막기
    - 값이 계속 바뀌면 의도치 않은 값을 할당할 수 도 있으니 인스턴스 변수를 불변으로 만들기
    - 불변으로 만들면 한 번 할당하면 재할당 못함
- 변수를 변경하고 싶으면 새로운 인스턴스 만들기
    - 인스턴스 변수를 불변으로 만들었으니 값을 변경하려면 변경된 값을 가진 새로운 인스턴스를 만들어서 사용
- 메서드 매개변수와 지역변수도 불변으로 만들기
    - 매개변수와 지역변수도 불변으로 만들어 버그를 방지
- 엉뚱한 값 전달하지 않도록 막기
    - 다른 값을 전달하지 않도록 독자적인 자료형만 받도록 설계
- 의미없는 메서드 추가하지 않기
    - 시스템 사양에 필요한 메서드만 정의

### 📌 디자인 패턴

- 디자인 패턴 : 응집도가 높은 구조를 만들거나, 잘못된 상태로부터 프로그램을 방어하는 등 프로그램의 구조를 개선하는 설계방법
- 완전생성자 : 잘못된 상태로부터 클래스를 보호하기 위한 디자인 패턴
    - 인스턴스 변수를 매개변수로 가지는 생성자 만들기
    - 생성자 내부에서 유효성 검사
    - 인스턴스 변수 불변으로 만들기
- 값 객체 : 값을 클래스로 나타내는 디자인 패턴
    - 계산 로직도 포함하는 클래스
    - 독자적인 자료형만 받도록 설계

# ❓ Question

---

### ❓ 어차피 다시 만들거면 왜 귀찮게 새로 만들게 하나

- 인스턴수 변수가 계속해서 값이 바뀌면, 예상치 못한 부수효과가 있다고 한다. 그래서 인스턴트 변수를 불변변수로 만들었다. 근데 또 변경하고 싶은 경우가 있을 수도 있으니 생성자를 통해 새로운 인스턴트 변수를 생성하는 식으로 변경을 할 수 있다고 한다.
- 근데 애초에 바꾸지 못하게 할라고 막은건데 다시 할 수 있다면 왜 막은건가
