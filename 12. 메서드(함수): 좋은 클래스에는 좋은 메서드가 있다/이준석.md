# 📌 12. 메서드(함수) : 좋은 클래스에는 좋은 메서드가 있다

### 📌  반드시 현재 클래스의 인스턴스 변수 사용하기

- 인스턴스 변수를안전하게 조작하도록 하면, 클래스 내부의 정상상태를 보장할 수 있다.
- 다른 클래스의 인스턴스를 변경하고 싶으면, 변경된 내용으로 새로운 인스턴스를 만들어 리턴하도록 한다.

### 📌  불변을 활용해서 예상할 수 있는 메서드

- 가변 인스턴스 등 변경이 가능하면 의도치 않게 다른 영향을 줄 수 있으므로 불변을 활용해서 예방하기

### 📌  묻지 말고 명령하라

- getter / setter를 활용하는 것은 다른 클래스를 확인하고 조작하는 구조이므로 응집도가 낮은 구조다
- 그보단 클래스 안에서 처리하도록 메서드만 공개하는 것이 좋다

### 📌 커멘드 / 쿼리 분리

- 메서드의 종류
    - 커멘드 : 상태 변경
    - 쿼리 : 상태 리턴
    - 모디파이어 : 상태 변경 + 리턴
- 상태변경과 추출은 각각 사용할 수 있도록, 동시에 하지 않도록 한다.

### 📌 매개 변수

- 불변 매개변수로 만들기 : 매개변수는 불변으로하고, 불변 지역변수에 할당하는 형태로 변경할 것
- 플래그 매개변수(메서드의 기능을 전환하는 매개변수) 사용하지 않기 : 메서드의 가독성이 낮아짐
- null 전달하지 않기 : NullPointerException이 발생 가능
- 출력 매개변수 사용하지 않기 : 매개변수는 입력값으로만 활용
- 매개변수는 최대한 적게 사용하기 : 많으면 로직이 복잡해짐

### 📌 리턴 값

- 자료형을 사용해서 리턴값 의도 나타내기 : 자료형을 만들어서 리턴값에 의미를 담아내기
- null 리턴하지 않기
- 오류는 리턴값으로 리턴하지 말고 예외 발생시키기

# ❓ Question

---

### ❓모디파이어가 필요한 경우

- 상태를 변경하는 커멘드와 상태를 리턴하는 쿼리, 이 두개를 동시에 하는 모디파이어는 안좋은 방법이라고 한다.
- 근데 꼭 필요한 경우가 있다는데 무엇일까

쓰이면 좋은 곳

- stack의 pop
    - pop함수는 스택의 맨 위의 값을 빼서(command) 반환(query)하는 일까지 병행한다
- **성능 최적화**: Command 수행 후 Query를 바로 실행해야 할 때, 따로따로 두 번의 네트워크 요청이나 데이터베이스 호출을 하는 것보다 한 번에 처리하는 것이 더 효율적일 수 있음
- **일관된 상태 관리**: 상태를 변경하고 그 상태를 바로 반환하는 것이 비즈니스 로직상 필요한 경우, 일관된 상태를 반환함으로써 데이터의 무결성을 보장할 수 있음
- **UI 즉시 반영**: 프론트엔드에서 어떤 액션을 수행한 후, 그 변경된 상태를 즉시 화면에 반영해야 할 때, Command와 Query가 함께 필요함
