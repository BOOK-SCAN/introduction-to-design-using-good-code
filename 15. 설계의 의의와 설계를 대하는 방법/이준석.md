# 📌 15. 설계의 의의와 설계를 대하는 방법

### 📌  설계하지 않으면 개발 생산성이 저하된다

- 소프트웨어에서 설계란 소프트 웨어의 품질 특성을 향상시키기 위한 구조를 만드는 것
- 레거시 코드: 변경하기 어렵고 버그가 생기기 쉬운 코드
- 기술부채 : 레거시 코드가 축적되어 있는 상태
- 변경 용이성 설계를 하지 않으면 개발 생산성이 저하됨
- 개발 생산성 저하 요인
    - 버그가 발생하기 쉬운 구조 : 코드 변경 시 버그가 발생하기 쉽다면 버그가 발생하지 않게 하면서 정확히 변경하는 데 시간이 오래 걸림
    - 가독성이 낮은 구조 : 가독성이 저하되면, 의도를 정확하게 이해하는데 시간이 오래 걸림
    - 나무꾼의 딜레마 : 제대로 설계하지 않으면 로직 변경과 디버그에 더 많은 시간을 소비
    - 열심히 일했지만 생산성이 나쁨 : 개발생산성이 나쁘면 새로운 기능을 릴리스하는데 오래 걸림

### 📌  소프트웨어와 엔지니어의 성장가능성

- 엔지니어의 자산은 기술력
- 레거시 코드는 이러한 자산의 축적, 기술력 성장을 방해함
    - 발전을 막음 : 다른 사람으로 하여금 레거시 코드를 작성하게 되어 낮은 수준의 기술만 사용하게 만듦
    - 고품질 설계 경험을 막음 : 레거시 코드임을 알아차려도 이미 균형이 깨져 있어 설계를 개선하기 힘듦
    - 시간이 낭비됨 : 이해하는 데에 시간이 오래걸림

### 📌  문제 해결하기

- 문제를 인지하지 못하면 설계에 대한 생각이 떠오르지 않음
- 어떤 코드가 어떤 문제를 일으키는지 모른다면, 기술 부채의 존재를 인식하기 힘듦
    - 이상적인 설계와 현재 설계를 비교하면 기술 부채를 인식할 수 있음

### 📌  코드의 좋고나쁨을 판단하는 지표

- 미래의 개발 생산성을 측정할 수 있는 방법은 없지만 소스 코드의 좋고 나쁨을 판단하는 지표는 있음
- 코드 메트릭 (소프트웨어 메트릭) : 코드 복잡성과 가독성 등의 품질 지표
- 스코프 줄 수 상한
    - 메서드 : 10줄 이내
    - 클래스 : 100줄 이내
- 같은 기능을 수행하더라도 로직을 구현하는데 필요한 코드의 양은 프로그래밍 언어에 따라 조금씩 다르나 어떤 언어를 사용해도 이정도가 적당함
- 줄 수가 많으면 메서드와 클래스 분할을 검토

- 순환복잡도
    - 코드의 구조적인 복잡함을 나타내는 지표
    - 조건 분기, 반복 처리, 중첩이 많아지면 복잡도가 상승
- 응집도
    - 모듈(클래스, 패키지, 레이어 등) 내부에서 데이터와 로직이 관련되어 있는 정도를 나타내는 지표
    - 응집도가 높을 수록 변경 용이성이 높은 구조
- 결합도
    - 모듈 간의 의존도를 나타내는 지표
    - 클래스의 결합도는 어떤 클래스가 호출하는 다른 클래스의 수
    - 결합도가 높으면 단일 책임 원칙을 위배했을 수 있음
- 청크
    - 인간이 기억할 수 있는 정보 덩어리 단어
    - 인간 단기 기억은 4(+-1) 개념 정도만 파악 가능
    - 클래스에서 다루는 개념이 4(+-1)정도가 되도록 설계하고 이보다 큰 클래스는 작은 클래스로 분할하는 것이 좋음
